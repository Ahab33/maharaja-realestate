<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Property - Maharaja Builders</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --primary-green: #0d2e1e;
      --secondary-green: #13452a;
      --light-green: #e8f5ee;
      --accent-gold: #d4af37;
      --pure-white: #ffffff;
      --light-gray: #f5f5f5;
      --text-dark: #0d2e1e;
      --text-light: #666;
      --success-green: #2ecc71;
      --warning-red: #e74c3c;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--light-green);
      color: var(--text-dark);
    }

    .dashboard-container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      background: var(--pure-white);
      box-shadow: 0 4px 12px rgba(13, 46, 30, 0.08);
      padding: 30px 20px;
      position: fixed;
      height: 100vh;
    }

    .logo {
      text-align: center;
      margin-bottom: 40px;
    }

    .logo img {
      width: 120px;
      height: auto;
    }

    .sidebar nav {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .sidebar nav a {
      text-decoration: none;
      color: var(--text-dark);
      padding: 12px 20px;
      border-radius: 8px;
      transition: all 0.3s ease;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .sidebar nav a:hover {
      background: var(--light-green);
      color: var(--primary-green);
    }

    .sidebar nav a.active {
      background: var(--primary-green);
      color: var(--pure-white);
    }

    /* Main Content */
    .main-content {
      flex: 1;
      margin-left: 250px;
      padding: 30px;
    }

    .dashboard-header {
      background: var(--pure-white);
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 4px 12px rgba(13, 46, 30, 0.08);
    }

    .dashboard-header h1 {
      color: var(--primary-green);
      font-size: 1.8rem;
      margin: 0;
    }

    /* Add Property Form */
    .add-property-section {
      background: var(--pure-white);
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(13, 46, 30, 0.08);
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--primary-green);
      font-size: 0.95rem;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-family: 'Poppins', sans-serif;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: var(--pure-white);
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary-green);
      box-shadow: 0 0 0 3px rgba(13, 46, 30, 0.1);
    }

    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 5px;
    }

    .checkbox-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 400;
      color: var(--text-light);
      cursor: pointer;
      padding: 8px 15px;
      background: var(--light-gray);
      border-radius: 6px;
      transition: all 0.3s ease;
    }

    .checkbox-group label:hover {
      background: var(--light-green);
    }

    .checkbox-group input[type="checkbox"] {
      width: auto;
      margin: 0;
      accent-color: var(--primary-green);
    }

    .submit-btn {
      background: var(--primary-green);
      color: var(--pure-white);
      border: none;
      padding: 15px 40px;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      margin-top: 10px;
    }

    .submit-btn:hover {
      background: var(--secondary-green);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(13, 46, 30, 0.2);
    }

    /* Fee Indicator */
    .fee-indicator {
      background: var(--light-green);
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
      border-left: 4px solid var(--accent-gold);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .fee-indicator.free {
      background: rgba(46, 204, 113, 0.1);
      border-left-color: var(--success-green);
    }

    .fee-indicator.paid {
      background: rgba(231, 76, 60, 0.1);
      border-left-color: var(--warning-red);
    }

    .fee-indicator i {
      font-size: 1.2rem;
      color: var(--primary-green);
    }

    .fee-indicator.free i {
      color: var(--success-green);
    }

    .fee-indicator.paid i {
      color: var(--warning-red);
    }

    .fee-text {
      flex: 1;
    }

    .fee-text h4 {
      margin: 0 0 5px 0;
      font-size: 1rem;
    }

    .fee-text p {
      margin: 0;
      font-size: 0.9rem;
      color: var(--text-light);
    }

    .fee-amount {
      font-weight: 700;
      font-size: 1.2rem;
    }

    .free-amount {
      color: var(--success-green);
    }

    .paid-amount {
      color: var(--warning-red);
    }

    /* Form Row */
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    /* Responsive Design */
    @media (max-width: 992px) {
      .sidebar {
        width: 220px;
      }
      
      .main-content {
        margin-left: 220px;
        padding: 20px;
      }
      
      .form-row {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      .dashboard-container {
        flex-direction: column;
      }
      
      .sidebar {
        position: static;
        width: 100%;
        height: auto;
        padding: 20px;
      }
      
      .main-content {
        margin-left: 0;
        padding: 20px;
      }
      
      .sidebar nav {
        flex-direction: row;
        flex-wrap: wrap;
      }
      
      .sidebar nav a {
        flex: 1;
        min-width: 120px;
        justify-content: center;
        text-align: center;
      }
    }

    @media (max-width: 480px) {
      .dashboard-header {
        padding: 20px;
      }
      
      .add-property-section {
        padding: 20px;
      }
      
      .checkbox-group {
        flex-direction: column;
        gap: 10px;
      }
      
      .sidebar nav {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="dashboard-container">

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <img src="img/maharaja.png" alt="Logo" />
      </div>
      <nav>
        <a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a>
        <a href="my-listings.html"><i class="fas fa-list"></i> My Listings</a>
        <a href="favourites.html"><i class="fas fa-heart"></i> Favourites</a>
        <a href="messages.html"><i class="fas fa-envelope"></i> Messages</a>
        <a href="add-property.html" class="active"><i class="fas fa-plus-circle"></i> Add Property</a>
        <a href="#"><i class="fas fa-cog"></i> Settings</a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="dashboard-header">
        <h1>Add New Property</h1>
        <p style="color: var(--text-light); margin-top: 5px;">Complete all fields to list your property</p>
      </header>

      <section class="add-property-section">
        <form id="addPropertyForm" enctype="multipart/form-data">
          
          <!-- Fee Indicator (Dynamic) -->
          <div class="fee-indicator" id="feeIndicator">
            <i class="fas fa-info-circle"></i>
            <div class="fee-text">
              <h4>Listing Fee Information</h4>
              <p>Select your property location to see listing fees</p>
            </div>
            <div class="fee-amount" id="feeAmount">PKR 0</div>
          </div>

          <!-- Property Info -->
          <div class="form-group">
            <label>Property Title *</label>
            <input type="text" id="title" placeholder="Luxury Villa in F-7" required>
          </div>

          <div class="form-group">
            <label>Country *</label>
            <select id="country" required>
              <option value="">Select Country</option>
              <option value="Pakistan">Pakistan</option>
              <option value="UAE">UAE</option>
            </select>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>City *</label>
              <select id="city" required>
                <option value="">Select City</option>
                <option value="Karachi">Karachi</option>
                <option value="Lahore">Lahore</option>
                <option value="Islamabad">Islamabad</option>
                <option value="Rawalpindi">Rawalpindi</option>
                <option value="Faisalabad">Faisalabad</option>
                <option value="Multan">Multan</option>
                <option value="Peshawar">Peshawar</option>
                <option value="Dubai">Dubai</option>
                <option value="Ras Al Khaimah">Ras Al Khaimah</option>
              </select>
            </div>

            <div class="form-group">
              <label>Area/Location *</label>
              <select id="area" required>
                <option value="">Select Area</option>
                <!-- DHA Options -->
                <option value="dha_karachi" data-fee="free">DHA Defence - Karachi</option>
                <option value="dha_lahore" data-fee="free">DHA Defence - Lahore</option>
                <option value="dha_islamabad" data-fee="free">DHA Defence - Islamabad</option>
                <option value="dha_city_karachi" data-fee="free">DHA City - Karachi</option>
                
                <!-- Bahria Options -->
                <option value="bahria_karachi" data-fee="free">Bahria Town - Karachi</option>
                <option value="bahria_lahore" data-fee="free">Bahria Town - Lahore</option>
                <option value="bahria_islamabad" data-fee="free">Bahria Town - Islamabad</option>
                <option value="bahria_rawalpindi" data-fee="free">Bahria Town - Rawalpindi</option>
                <option value="bahria_orchard" data-fee="free">Bahria Orchard - Lahore</option>
                
                <!-- Other Popular Areas (Paid) -->
                <option value="clifton" data-fee="paid">Clifton - Karachi</option>
                <option value="gulberg" data-fee="paid">Gulberg - Lahore</option>
                <option value="model_town" data-fee="paid">Model Town - Lahore</option>
                <option value="f7" data-fee="paid">F-7 - Islamabad</option>
                <option value="e11" data-fee="paid">E-11 - Islamabad</option>
                <option value="blue_area" data-fee="paid">Blue Area - Islamabad</option>
                <option value="saddar" data-fee="paid">Saddar - Karachi</option>
                <option value="gulshan" data-fee="paid">Gulshan-e-Iqbal - Karachi</option>
                <option value="dubai_marina" data-fee="paid">Dubai Marina - Dubai</option>
                <option value="jumeirah" data-fee="paid">Jumeirah - Dubai</option>
                <option value="business_bay" data-fee="paid">Business Bay - Dubai</option>
                <option value="other" data-fee="paid">Other Location</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label>Detailed Address *</label>
            <input type="text" id="address" placeholder="House #123, Street 5, Sector ABC" required>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Price *</label>
              <input type="number" id="price" placeholder="125000000" required>
              <small style="color: var(--text-light); font-size: 0.85rem;">Enter amount in PKR for Pakistan, AED for UAE</small>
            </div>

            <div class="form-group">
              <label>Property Type *</label>
              <select id="type" required>
                <option value="">Select Type</option>
                <option value="house">House</option>
                <option value="apartment">Apartment</option>
                <option value="villa">Villa</option>
                <option value="penthouse">Penthouse</option>
                <option value="commercial">Commercial</option>
                <option value="plot">Plot</option>
                <option value="farmhouse">Farm House</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Listing Type *</label>
              <select id="listing" required>
                <option value="">Select Listing</option>
                <option value="sale">For Sale</option>
                <option value="rent">For Rent</option>
              </select>
            </div>

            <div class="form-group">
              <label>Property Size *</label>
              <input type="number" id="size" placeholder="5500" required>
              <select id="sizeUnit" style="margin-top: 5px; width: 100%;">
                <option value="sqft">Square Feet (sqft)</option>
                <option value="sqm">Square Meters (sqm)</option>
                <option value="marla">Marla</option>
                <option value="kanal">Kanal</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Bedrooms</label>
              <select id="beds">
                <option value="">Select</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6+</option>
              </select>
            </div>

            <div class="form-group">
              <label>Bathrooms</label>
              <select id="baths">
                <option value="">Select</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6+</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label>Description *</label>
            <textarea id="description" rows="4" placeholder="Describe your property in detail..." required></textarea>
          </div>

          <div class="form-group">
            <label>Amenities</label>
            <div class="checkbox-group">
              <label><input type="checkbox" value="swimming_pool"> <i class="fas fa-swimming-pool"></i> Swimming Pool</label>
              <label><input type="checkbox" value="gym"> <i class="fas fa-dumbbell"></i> Gym</label>
              <label><input type="checkbox" value="parking"> <i class="fas fa-car"></i> Parking</label>
              <label><input type="checkbox" value="security"> <i class="fas fa-shield-alt"></i> Security</label>
              <label><input type="checkbox" value="garden"> <i class="fas fa-tree"></i> Garden</label>
              <label><input type="checkbox" value="balcony"> <i class="fas fa-home"></i> Balcony</label>
              <label><input type="checkbox" value="heating"> <i class="fas fa-fire"></i> Heating</label>
              <label><input type="checkbox" value="ac"> <i class="fas fa-snowflake"></i> Air Conditioning</label>
            </div>
          </div>

          <!-- File Uploads -->
          <div class="form-group">
            <label>Main Image *</label>
            <input type="file" id="mainImage" accept="image/*" required>
            <small style="color: var(--text-light); font-size: 0.85rem;">Recommended size: 1200x800 pixels</small>
          </div>

          <div class="form-group">
            <label>Gallery Images (up to 10)</label>
            <input type="file" id="galleryImages" accept="image/*" multiple>
            <small style="color: var(--text-light); font-size: 0.85rem;">Select multiple images to showcase your property</small>
          </div>

          <!-- Terms and Conditions -->
          <div class="form-group" style="background: var(--light-gray); padding: 15px; border-radius: 8px;">
            <label style="display: flex; align-items: center; gap: 10px;">
              <input type="checkbox" id="terms" required style="width: auto;">
              <span>I agree to the <a href="#" style="color: var(--primary-green); text-decoration: none;">Terms & Conditions</a> and confirm that all information provided is accurate</span>
            </label>
          </div>

          <button type="submit" class="submit-btn">
            <i class="fas fa-paper-plane"></i> Submit for Approval
          </button>
        </form>
      </section>
    </main>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('addPropertyForm');
      const areaSelect = document.getElementById('area');
      const feeIndicator = document.getElementById('feeIndicator');
      const feeAmount = document.getElementById('feeAmount');
      const priceInput = document.getElementById('price');
      
      // Define fee structure
      const feeStructure = {
        'free': {
          amount: 0,
          message: 'Listing is FREE for DHA & Bahria properties!',
          color: 'free'
        },
        'paid': {
          amount: 5000,
          message: 'Standard listing fee applies',
          color: 'paid'
        }
      };
      
      // Update fee indicator when area is selected
      areaSelect.addEventListener('change', function() {
        const selectedOption = areaSelect.options[areaSelect.selectedIndex];
        const feeType = selectedOption.getAttribute('data-fee');
        const feeInfo = feeStructure[feeType] || feeStructure.paid;
        
        // Update fee amount display
        feeAmount.textContent = feeInfo.amount === 0 ? 'FREE' : `PKR ${feeInfo.amount.toLocaleString()}`;
        feeAmount.className = 'fee-amount ' + (feeInfo.amount === 0 ? 'free-amount' : 'paid-amount');
        
        // Update fee indicator styling
        feeIndicator.className = 'fee-indicator ' + feeInfo.color;
        
        // Update fee text
        const feeText = feeIndicator.querySelector('.fee-text');
        feeText.innerHTML = `
          <h4>${feeInfo.amount === 0 ? 'ðŸŽ‰ FREE Listing!' : 'ðŸ’¼ Standard Listing Fee'}</h4>
          <p>${feeInfo.message}</p>
        `;
        
        // Update icon
        const icon = feeIndicator.querySelector('i');
        icon.className = feeInfo.amount === 0 ? 'fas fa-check-circle' : 'fas fa-info-circle';
      });
      
      // Format price input
      priceInput.addEventListener('input', function() {
        let value = this.value.replace(/\D/g, '');
        if (value.length > 0) {
          const countrySelect = document.getElementById('country');
          const isPakistan = countrySelect.value === 'Pakistan';
          const currency = isPakistan ? 'PKR ' : 'AED ';
          this.value = currency + parseInt(value).toLocaleString();
        }
      });
      
      // Validate price on blur
      priceInput.addEventListener('blur', function() {
        if (this.value && !this.value.match(/^(PKR|AED)\s/)) {
          const countrySelect = document.getElementById('country');
          const isPakistan = countrySelect.value === 'Pakistan';
          const currency = isPakistan ? 'PKR ' : 'AED ';
          let value = this.value.replace(/\D/g, '');
          if (value) {
            this.value = currency + parseInt(value).toLocaleString();
          }
        }
      });
      
      // Handle form submission
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Collect form data
        const formData = {
          title: document.getElementById('title').value,
          country: document.getElementById('country').value,
          city: document.getElementById('city').value,
          area: document.getElementById('area').value,
          address: document.getElementById('address').value,
          price: document.getElementById('price').value,
          type: document.getElementById('type').value,
          listing: document.getElementById('listing').value,
          size: document.getElementById('size').value + ' ' + document.getElementById('sizeUnit').value,
          beds: document.getElementById('beds').value,
          baths: document.getElementById('baths').value,
          description: document.getElementById('description').value,
          amenities: Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value),
          terms: document.getElementById('terms').checked
        };
        
        // Get fee info
        const selectedArea = areaSelect.options[areaSelect.selectedIndex];
        const feeType = selectedArea.getAttribute('data-fee');
        const isFreeListing = feeType === 'free';
        const listingFee = feeStructure[feeType].amount;
        
        // Validate required fields
        const requiredFields = ['title', 'country', 'city', 'area', 'address', 'price', 'type', 'listing', 'size', 'description'];
        let isValid = true;
        
        requiredFields.forEach(fieldId => {
          const field = document.getElementById(fieldId);
          if (!field.value.trim()) {
            field.style.borderColor = 'var(--warning-red)';
            isValid = false;
          } else {
            field.style.borderColor = '#ddd';
          }
        });
        
        if (!isValid) {
          alert('Please fill in all required fields marked with *');
          return;
        }
        
        if (!document.getElementById('terms').checked) {
          alert('Please agree to the Terms & Conditions');
          return;
        }
        
        // Show submission confirmation with fee info
        const confirmationMessage = isFreeListing 
          ? 'ðŸŽ‰ Your property listing is FREE!\n\nYour property listing has been submitted for approval. You will be notified once it is approved.'
          : `ðŸ’¼ Listing Fee: PKR ${listingFee.toLocaleString()}\n\nYour property listing has been submitted for approval. The listing fee will be charged once approved.`;
        
        if (confirm(confirmationMessage + '\n\nClick OK to proceed with submission.')) {
          // In a real application, you would send formData to your server here
          console.log('Form submitted:', formData);
          console.log('Listing Fee:', isFreeListing ? 'FREE' : `PKR ${listingFee}`);
          
          // Show success message
          alert('âœ… Property submitted successfully!\n\nYour property is now under review. You will receive an email confirmation shortly.');
          
          // Reset form
          form.reset();
          feeIndicator.className = 'fee-indicator';
          feeIndicator.querySelector('.fee-text').innerHTML = `
            <h4>Listing Fee Information</h4>
            <p>Select your property location to see listing fees</p>
          `;
          feeAmount.textContent = 'PKR 0';
        }
      });
      
      // Initialize fee indicator
      const icon = feeIndicator.querySelector('i');
      icon.className = 'fas fa-info-circle';
    });
  </script>
</body>
</html>